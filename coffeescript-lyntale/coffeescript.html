<!DOCTYPE html>

<!--
  Google HTML5 slide template

  Authors: Luke Mahé (code)
           Marcin Wichary (code and design)
           
           Dominic Mazzoni (browser compatibility)
           Charles Chen (ChromeVox support)

  URL: http://code.google.com/p/html5slides/
-->

<html>
  <head>
    <title>Presentation</title>

    <meta charset='utf-8'>
    <script
      src='http://html5slides.googlecode.com/svn/trunk/slides.js'></script>
    <script src="http://coffeescript.org/extras/coffee-script.js"></script>
    <script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
    
    <script>
      $(document).ready(function() {
          $('.code').each(function(index, element) {
            var coffeescript = $(this).find('.coffeescript').text();
            $(this).find('.coffeescript').text($.trim(coffeescript));

            var javascript = CoffeeScript.compile(coffeescript);
            
            //javascript = javascript.replace(/\(function\(\) \{(\n)+/g, "").replace(/(\n)+\}\).call\(this\);/, "");

            $(this).find('.javascript').text(javascript);
          });
      });
    </script>
  </head>
  
  <style>
    .code .coffeescript {
      width: 45%;
      float: left;
      margin: 20px 20px 0 0;
      min-height: 80%;
    }

    .code .javascript {
      width: 45%;
      float: left;
      margin: 20px 0 0 0;
      min-height: 80%;
      padding-left: 0;
    }

    .horizontal.code .javascript, .horizontal.code .coffeescript {
      width: 100%;
      margin: 10px 0 0 0;
      min-height: 10%;
    }

    .centered {
      text-align: center;
    }
  </style>

  <body style='display: none'>

    <section class='slides layout-regular'>
      
      <article class='front-page centered'>
        <img src="images/coffeescript_logo.jpg" style="height: 60%; width: 60%;" />
        <h2>CoffeeScript - JavaScript without the... Java.</h2>
      </article>
      
      <article class="tdlr">
        <h3>TD;LR</h3>
        <ul class="build">
          <li>JavaScript, bare... without the cruft.</li>
          <li>Kompilerer ned til JavaScript
            <ul class="build"><li>Med en kompilator skrevet i CoffeeScript</li></ul>
          </li>
          <li>Er fullstendig <i>jslint compliant</i></li>
          <li>Fikser småfeil og mangler i JavaScript</li>
        </ul>
      </article>
      
      <article class="we-want-code">
        <h2>We want code!!</h2>
        <img class="centered" src="images/screaming-children1.jpeg"/>
      </article>
      
      <article class='horizontal code'>
        <h3>Signifikante innrykk</h3>
        <pre class="coffeescript">
if got_more_beer()
  drink_beer()
else
  buy_beer()
        </pre>
        <pre class="javascript">
        </pre>
      </article>

      <article class='horizontal code'>
        <h3>IT-hipster funksjonssyntax</h3>
        <pre class="coffeescript">
add_prices = (a, b) -> a + b
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Fikser scoping</h3>
        <pre class="coffeescript">
accidentally_global = 'woops, I leaked'

window.global = "eksplisitt leak!"
        </pre>
        <pre class="javascript">
        </pre>
      </article>

      <article class='horizontal code'>
        <h3>Ikke så hjernedød equals</h3>
        <pre class="coffeescript">
if (2 == '2') then alert("fail");
        </pre>
        <pre class="javascript">
        </pre>
      </article>

      <article class='horizontal code'>
        <h3>Implisitt return</h3>
        <pre class="coffeescript">
drink_beer = (beer) ->
  other_half = drink_half(beer)
  other_half
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='code'>
        <h3>Frivillige paranteser på funksjonskall</h3>
        <pre class="coffeescript">
beer =
  type: 'heineken'
  taste: 'abysmal'

drink beer

# Omgomgomg
myPee = pee

# Ahh...
myPee = pee()
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Hyggelige kortformer</h3>
        <pre class="coffeescript">
if syttendeMai() then alert "hurra!" else alert "nei, faen..."
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Kan løkke begge veier</h3>
        <pre class="coffeescript">
while numberOfBeers > 0
  numberOfBeers--

until numberOfBeers is 0
  numberOfBeers--
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Alt kan suffixes</h3>
        <pre class="coffeescript">
drink_beer() if numberOfBeers > 0
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Alt er uttrykk!</h3>
        <pre class="coffeescript">
beer_history = until numberOfBeers is  0
  numberOfBeers--
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3><strong>ALT</strong> er uttrykk!</h3>
        <pre class="coffeescript">
beer_text = switch remainingBeers
  when remainingBeers > 10 then "All is well!"
  when remainingBeers > 5 then "Maybe someone should..."
  when remainingBeers > 2 then "Not cool."
  when remainingBeers > 0 then "PANIC"
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Sammenlikning flere veier!</h3>
        <pre class="coffeescript">
beer_text = switch remainingBeers
  when 5 < remainingBeers < 10 then "WOO! FEST!"
  when 1 < remainingBeers < 5 then "Nachspiel?"
  when remainingBeers is 0 then "Jeg vil hjem."
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Bygging av strenger</h3>
        <pre class="coffeescript">
age = 10
text = "I just had #{age} beers!"

text = "I just had #{person.getBeerCount()} beers!"
        </pre>
        <pre class="javascript"></pre>
      </article>

      <article class='horizontal code'>
        <h3>Bygging av svære strenger</h3>
        <pre class="coffeescript">
beer_story = """
&lt;ul&gt;
  &lt;li&gt;One beer&lt;/li&gt;
  &lt;li&gt;Two beers&lt;/li&gt;
  &lt;li&gt;Three beers&lt;/li&gt;
&lt;/ul&gt;
             """
        </pre>
        <pre class="javascript"></pre>
      </article>

    </section>

  </body>
</html>